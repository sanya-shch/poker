"use strict";(self.webpackChunkpoker=self.webpackChunkpoker||[]).push([[67],{67:function(r,e,n){n.r(e),n.d(e,{default:function(){return k}});var t=n(165),a=n(861),i=n(390),c=n(260),s=n(361),o=n(236),u=n(55),d=n(428),l=n(764),p=n(579),f=n(559),m=function(r){var e=r.imgSrc,n=r.username,i=r.itsI,s=r.isCurrentPlayer,u=(r.numberOfCards,r.isHost),d=r.isStartBlock,l=r.handleKick,p=r.dealerUid,m=r.playerUid,k=r.id,_=function(){var r=(0,a.Z)((0,t.Z)().mark((function r(){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(m===p||!u){r.next=3;break}return r.next=3,(0,c.r7)((0,c.JU)(o.db,"game_rooms_poker/".concat(k)),{dealer_uid:m});case 3:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,f.jsxs)("div",{className:"user_block ".concat(i?"itsI":""," ").concat(s?"is_current_player":""),children:[(0,f.jsx)("p",{children:n}),(0,f.jsx)("img",{src:e,alt:"",width:"65px",height:"65px",loading:"lazy"}),(0,f.jsx)("div",{className:"dealer_block ".concat(m===p?"current":""," ").concat(u?"is_host":""),onClick:_,children:"D"}),u&&d&&!i&&(0,f.jsx)("button",{onClick:l,children:"X"})]})},k=function(r){var e=r.isHost,n=r.playerDataArr,k=r.uuid,_=r.id,x=r.dealerUid,h=(0,s.s0)(),v=(0,i.useContext)(d.u).setToast,b=function(){var r=(0,a.Z)((0,t.Z)().mark((function r(){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,c.r7)((0,c.JU)(o.db,"game_rooms_poker",_),{game_room_closed:!0});case 2:return r.next=4,(0,c.oe)((0,c.JU)(o.db,"game_rooms_poker",_));case 4:return r.next=6,(0,c.r7)((0,c.JU)(o.db,"game_room_codes_poker","code_array"),{codes:(0,c.Ab)(_)});case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),y=function(){var r=(0,a.Z)((0,t.Z)().mark((function r(e){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,c.r7)((0,c.JU)(o.db,"game_rooms_poker",_),{banned_player_uid:(0,c.vr)(e),player_data_arr:n.filter((function(r){return r.uid!==e}))});case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),Z=function(){var r=(0,a.Z)((0,t.Z)().mark((function r(){var e,a,i;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e=n.find((function(r){return r.uid===k})),a=n.map((function(r){return r.uid})),i=(0,l.uU)(a,x),(0,c.r7)((0,c.JU)(o.db,"game_rooms_poker",_),{player_data_arr:(0,c.Ab)(e),dealer_uid:e.uid===k?i:x}),h("/");case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,f.jsxs)("div",{className:"start_block",children:[(0,f.jsx)("div",{className:"player_block",children:null===n||void 0===n?void 0:n.map((function(r){return(0,f.jsx)(m,{imgSrc:u[r.icon_index],username:r.username,itsI:k===r.uid,numberOfCards:10,isHost:e,handleKick:function(){return y(r.uid)},isStartBlock:!0,dealerUid:x,playerUid:r.uid,id:_},r.uid)}))}),e?(0,f.jsxs)("div",{className:"btn-block",children:[(0,f.jsx)(p.Z,{text:"Delete Room \xd7",onClick:b}),(0,f.jsx)(p.Z,{text:"Start Game \u2192",onClick:function(){(null===n||void 0===n?void 0:n.length)>=2?(0,l.t)({playerDataArr:n,id:_,dealerUid:x}):v({type:"danger",text:"At least 2 players are required"})}})]}):(0,f.jsx)("div",{className:"btn-block",children:(0,f.jsx)(p.Z,{text:"Leave \u21aa",onClick:Z})})]})}}}]);
//# sourceMappingURL=67.4715cc9e.chunk.js.map