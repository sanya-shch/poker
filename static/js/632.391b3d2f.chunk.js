"use strict";(self.webpackChunkpoker=self.webpackChunkpoker||[]).push([[632],{632:function(e,r,n){n.r(r),n.d(r,{default:function(){return f}});var t=n(165),a=n(861),i=n(791),s=n(14),c=n(108),o=n(377),u=n(427),d=n(42),l=n(110),p=n(184),m=function(e){var r=e.imgSrc,n=e.username,i=e.itsI,o=e.isCurrentPlayer,u=(e.numberOfCards,e.isHost),d=e.isStartBlock,l=e.handleKick,m=e.dealerUid,f=e.playerUid,k=e.id,x=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f===m||!u){e.next=3;break}return e.next=3,(0,s.r7)((0,s.JU)(c.db,"game_rooms_poker/".concat(k)),{dealer_uid:f});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{className:"user_block ".concat(i?"itsI":""," ").concat(o?"is_current_player":""),children:[(0,p.jsx)("p",{children:n}),(0,p.jsx)("img",{src:r,alt:"",width:"65px",height:"65px",loading:"lazy"}),(0,p.jsx)("div",{className:"dealer_block ".concat(f===m?"current":""," ").concat(u?"is_host":""),onClick:x,children:"D"}),u&&d&&!i&&(0,p.jsx)("button",{onClick:l,children:"X"})]})},f=function(e){var r=e.isHost,n=e.playerDataArr,f=e.uuid,k=e.id,x=e.dealerUid,_=(0,i.useContext)(u.u).setToast,h=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.r7)((0,s.JU)(c.db,"game_rooms_poker",k),{game_room_closed:!0});case 2:return e.next=4,(0,s.oe)((0,s.JU)(c.db,"game_rooms_poker",k));case 4:return e.next=6,(0,s.r7)((0,s.JU)(c.db,"game_room_codes_poker","code_array"),{codes:(0,s.Ab)(k)});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.r7)((0,s.JU)(c.db,"game_rooms_poker",k),{banned_player_uid:(0,s.vr)(r),player_data_arr:n.filter((function(e){return e.uid!==r}))});case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{className:"start_block",children:[(0,p.jsx)("div",{className:"player_block",children:null===n||void 0===n?void 0:n.map((function(e){return(0,p.jsx)(m,{imgSrc:o[e.icon_index],username:e.username,itsI:f===e.uid,numberOfCards:10,isHost:r,handleKick:function(){return b(e.uid)},isStartBlock:!0,dealerUid:x,playerUid:e.uid,id:k},e.uid)}))}),r&&(0,p.jsxs)("div",{className:"btn-block",children:[(0,p.jsx)(l.Z,{text:"Delete Room \xd7",onClick:h}),(0,p.jsx)(l.Z,{text:"Start Game \u2192",onClick:function(){(null===n||void 0===n?void 0:n.length)>=2?(0,d.t)({playerDataArr:n,id:k,dealerUid:x}):_({type:"danger",text:"At least 2 players are required"})}})]})]})}}}]);
//# sourceMappingURL=632.391b3d2f.chunk.js.map