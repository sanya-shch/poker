"use strict";(self.webpackChunkpoker=self.webpackChunkpoker||[]).push([[440],{693:function(n,e,t){var i=t(1037),r=t(8391),a=t(7650);e.Z=function(n){var e=n.children,t=n.wrapperId,o=void 0===t?"react-portal-wrapper":t,c=(0,r.useState)(null),s=(0,i.Z)(c,2),u=s[0],d=s[1];if((0,r.useLayoutEffect)((function(){var n=document.getElementById(o),e=!1;return n||(e=!0,n=function(n){var e=document.createElement("div");return e.setAttribute("id",n),document.body.appendChild(e),e}(o)),d(n),function(){e&&n.parentNode&&n.parentNode.removeChild(n)}}),[o]),null!==u)return(0,a.createPortal)(e,u)}},5440:function(n,e,t){t.r(e),t.d(e,{default:function(){return _}});var i=t(4942),r=t(1413),a=t(2982),o=t(8391),c=t(2159),s=t(4728),u=t(7518),d=t(6165),l=t(434),m=t(9277),f=t(693),p=t(3712),b=function(){return(0,p.jsx)("div",{className:"loader-container",children:(0,p.jsx)("svg",{children:(0,p.jsx)("circle",{cx:"15",cy:"15",r:"15"})})})},v=function(n){var e=n.children,t=n.text,i=void 0===t?"":t,r=n.position,a=void 0===r?"down":r;return(0,p.jsx)("div",{tooltip:i,flow:a,children:e})},_=function(n){var e=n.isOpen,t=n.handleClose,_=n.isHost,h=n.id,x=n.uuid,y=n.playerCards,j=n.lastActions,k=n.gameCards,N=n.playerDataArr,g=n.playersList,w=n.dealerUid,C=n.allInBanks,Z=n.bankCount,A=Object.keys(y).filter((function(n){var e;return(null===(e=j[n])||void 0===e?void 0:e.action)!==l.A.fold})).map((function(n){return{combination:(0,m.nn)([].concat((0,a.Z)(y[n]),(0,a.Z)(k))),uid:n}})).sort((function(n,e){return Number(e.combination.combinationCost)-Number(n.combination.combinationCost)})),E=(0,m.ix)({allInBanks:C,combinations:A,bankCount:Z,lastActions:j}),I=E.map((function(n){return n.uid})),B=(0,m.uU)(g,w),U=N.reduce((function(n,e){return(0,r.Z)((0,r.Z)({},n),{},(0,i.Z)({},e.uid,e))}),{});return o.useEffect((function(){var n=setTimeout((function(){_?((0,c.r7)((0,c.JU)(s.db,"game_rooms_poker/".concat(h)),{ongoing_game:!1,midgame_player_uid:[],card_deck:[],player_cards:{},players_list:[],current_player_uid:x,last_actions:{},game_stage:u.H.start,game_cards:[],bank:0,current_bet:0,player_data_arr:N.map((function(n){var e=E.find((function(e){return n.uid===e.uid}));return e?(0,r.Z)((0,r.Z)({},n),{},{points:n.points+1,money:n.money+e.bank}):n})),dealer_uid:B,all_in_banks:{}}),t()):t()}),15e3);return function(){return clearTimeout(n)}}),[]),o.useEffect((function(){return e&&(document.body.style.overflow="hidden"),function(){document.body.style.overflow="auto"}}),[e]),e?(0,p.jsx)(f.Z,{wrapperId:"react-portal-start-modal",children:(0,p.jsx)("div",{className:"finish-modal",children:(0,p.jsxs)("div",{className:"modal-content",children:[(0,p.jsxs)("div",{className:"modal-header",children:[(0,p.jsx)("div",{children:"Game Results"}),(0,p.jsx)(b,{})]}),(0,p.jsx)("div",{className:"content_block combination_block custom_scrollbar",children:A.map((function(n){return(0,p.jsxs)("div",{className:"combination_item",children:[(0,p.jsx)("p",{className:I.includes(n.uid)?"winner":"",children:U[n.uid].username}),(0,p.jsx)(v,{text:n.combination.combinationName,position:"left",children:(0,p.jsx)("div",{className:"combination_item_row",children:n.combination.cards.slice(0,5).map((function(e){return(0,p.jsxs)("div",{className:"combination_card_item",children:[(0,p.jsx)("p",{children:e.number}),(0,p.jsx)("img",{src:d[e.type],alt:""})]},"".concat(U[n.uid].username,"-").concat(e.number,"-").concat(e.type))}))})})]},n.uid)}))})]})})}):null}}}]);