"use strict";(self.webpackChunkpoker=self.webpackChunkpoker||[]).push([[875],{5875:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var r=t(1037),s=t(1413),a=t(4165),i=t(5861),c=t(8391),o=t(2159),u=t(3712),l=function(e){var n=e.children,t=e.value,r=e.onClick,s=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:r&&r(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return(0,u.jsx)("button",{type:"button",className:"copy_btn",onClick:s,children:n})},d=function(e){var n=e.text,t=void 0===n?"":n,r=e.onToggle,s=e.isToggle;return(0,u.jsxs)("label",{className:"toggle_label",children:[(0,u.jsxs)("div",{className:"toggle",children:[(0,u.jsx)("input",{className:"toggle-state",type:"checkbox",name:"check",value:"check",onChange:r,checked:s}),(0,u.jsx)("div",{className:"indicator"})]}),(0,u.jsx)("div",{className:"label-text",children:t})]})},_=t(2603),p=t(4728),m=t(7518),h=t(7141),g=function(e){var n,t=e.isHost,g=e.setIsHost,f=e.withBackgroundAnimation,x=(e.smallBlind,e.bigBlind),b=e.id,k=e.ongoingGame,v=e.uuid,j=e.playerDataArr,y=(0,c.useContext)(h.u).setToast,Z=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.r7)((0,o.JU)(p.db,"game_rooms_poker",b),{ongoing_game:!1,midgame_player_uid:[],card_deck:[],player_cards:{},players_list:[],current_player_uid:v,last_actions:{},game_stage:m.H.start,game_cards:[],bank:0,current_bet:0,all_in_banks:{}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.r7)((0,o.JU)(p.db,"game_rooms_poker",b),{game_setting__with_background_animation:!f});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n,t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.r7)((0,o.JU)(p.db,"game_rooms_poker",b),{game_setting__small_blind:n,game_setting__big_blind:t});case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),N=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.r7)((0,o.JU)(p.db,"game_rooms_poker",b),{history_list:[]});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.r7)((0,o.JU)(p.db,"game_rooms_poker",b),{ongoing_game:!1,midgame_player_uid:[],card_deck:[],player_cards:{},players_list:[],current_player_uid:v,last_actions:{},game_stage:m.H.start,game_cards:[],bank:0,current_bet:0,all_in_banks:{},banned_player_uid:[],dealer_uid:v,messages_list:[],messages_last_updates:"",messages_info:{},history_list:[],last_street_bank:0,player_data_arr:j.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{money:5e3,points:0})}))});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=(0,c.useState)((null===(n=j.find((function(e){return e.uid===v})))||void 0===n?void 0:n.uid)||v),U=(0,r.Z)(T,2),B=U[0],H=U[1],R=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(n.target.value),g(!1),e.next=4,(0,o.r7)((0,o.JU)(p.db,"game_rooms_poker",b),{host_uid:n.target.value});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,u.jsxs)("div",{className:"menu_settings_block",children:[(0,u.jsx)("h4",{children:"Settings"}),(0,u.jsxs)("div",{className:"custom_scrollbar",children:[(0,u.jsxs)("div",{className:"game_id_block",children:[(0,u.jsx)("span",{children:b}),(0,u.jsx)(l,{value:window.location.href,onClick:function(){return y({type:"success",text:"Copy"})},children:(0,u.jsx)("span",{children:"Copy"})})]}),t&&!k&&(0,u.jsxs)("div",{className:"blinds_btns",children:[(0,u.jsx)("p",{children:"Min bet"}),(0,u.jsx)("button",{className:50===x?"selected":"",type:"button",onClick:function(){return C(25,50)},children:"50"}),(0,u.jsx)("button",{className:100===x?"selected":"",type:"button",onClick:function(){return C(50,100)},children:"100"}),(0,u.jsx)("button",{className:200===x?"selected":"",type:"button",onClick:function(){return C(100,200)},children:"200"}),(0,u.jsx)("button",{className:500===x?"selected":"",type:"button",onClick:function(){return C(250,500)},children:"500"})]}),t&&!k&&(0,u.jsxs)("div",{className:"setting_item__btn",children:[(0,u.jsx)("p",{children:"Clear game history"}),(0,u.jsx)("button",{type:"button",onClick:function(){return N()},children:"Clear"})]}),t&&!k&&(0,u.jsxs)("div",{className:"setting_item__btn",children:[(0,u.jsx)("p",{children:"Reset all game"}),(0,u.jsx)("button",{type:"button",onClick:function(){return J()},children:"Reset"})]}),t&&!k&&(0,u.jsxs)("div",{className:"setting_item__select",children:[(0,u.jsx)("p",{children:"Change the host of the game"}),(0,u.jsx)("div",{className:"selectdiv",children:(0,u.jsx)("label",{children:(0,u.jsx)("select",{value:B,onChange:function(e){return R(e)},children:j.map((function(e){return(0,u.jsx)("option",{value:e.uid,children:e.username},e.username)}))})})})]}),t&&k&&(0,u.jsx)(d,{text:"Background animation",onToggle:w,isToggle:f}),t&&k&&(0,u.jsx)("div",{className:"reset_btn",children:(0,u.jsx)(_.Z,{text:"Reset Game \u21ac",onClick:Z})})]})]})}}}]);