"use strict";(self.webpackChunkpoker=self.webpackChunkpoker||[]).push([[716],{68:function(n,e,t){var r=t(885),i=t(791),a=t(164);e.Z=function(n){var e=n.children,t=n.wrapperId,o=void 0===t?"react-portal-wrapper":t,c=(0,i.useState)(null),s=(0,r.Z)(c,2),u=s[0],d=s[1];if((0,i.useLayoutEffect)((function(){var n=document.getElementById(o),e=!1;return n||(e=!0,n=function(n){var e=document.createElement("div");return e.setAttribute("id",n),document.body.appendChild(e),e}(o)),d(n),function(){e&&n.parentNode&&n.parentNode.removeChild(n)}}),[o]),null!==u)return(0,a.createPortal)(e,u)}},716:function(n,e,t){t.r(e),t.d(e,{default:function(){return h}});var r=t(942),i=t(413),a=t(982),o=t(791),c=t(14),s=t(108),u=t(143),d=t(803),l=t(501),m=t(42),p=t(68),f=t(184),b=function(){return(0,f.jsx)("div",{className:"loader-container",children:(0,f.jsx)("svg",{children:(0,f.jsx)("circle",{cx:"15",cy:"15",r:"15"})})})},_=function(n){var e=n.children,t=n.text,r=void 0===t?"":t,i=n.position,a=void 0===i?"down":i;return(0,f.jsx)("div",{tooltip:r,flow:a,children:e})},h=function(n){var e=n.isOpen,t=n.handleClose,h=n.isHost,v=n.id,x=n.uuid,j=n.playerCards,k=n.lastActions,y=n.gameCards,N=n.playerDataArr,g=n.playersList,C=n.dealerUid,Z=n.allInBanks,w=n.bankCount,A=Object.keys(j).filter((function(n){return k[n].action!==l.A.fold})).map((function(n){return{combination:(0,m.nn)([].concat((0,a.Z)(j[n]),(0,a.Z)(y))),uid:n}})).sort((function(n,e){return Number(e.combination.combinationCost)-Number(n.combination.combinationCost)})),I=(0,m.ix)({allInBanks:Z,combinations:A,bankCount:w,lastActions:k}),E=(0,m.uU)(g,C),B=N.reduce((function(n,e){return(0,i.Z)((0,i.Z)({},n),{},(0,r.Z)({},e.uid,e))}),{});return o.useEffect((function(){var n=setTimeout((function(){h?(0,c.r7)((0,c.JU)(s.db,"game_rooms_poker/".concat(v)),{ongoing_game:!1,midgame_player_uid:[],card_deck:[],player_cards:{},players_list:[],current_player_uid:x,last_actions:{},game_stage:u.H.start,game_cards:[],bank:0,current_bet:0,player_data_arr:N.map((function(n){var e=I.find((function(e){return n.uid===e.uid}));return e?(0,i.Z)((0,i.Z)({},n),{},{points:n.points+1,money:n.money+e.bank}):n})),dealer_uid:E,all_in_banks:{}}).finally((function(){return t()})):t()}),15e3);return function(){return clearTimeout(n)}}),[]),e?(0,f.jsx)(p.Z,{wrapperId:"react-portal-start-modal",children:(0,f.jsx)("div",{className:"finish-modal",children:(0,f.jsxs)("div",{className:"modal-content",children:[(0,f.jsxs)("div",{className:"modal-header",children:[(0,f.jsx)("div",{children:"Game Results"}),(0,f.jsx)(b,{})]}),(0,f.jsx)("div",{className:"content_block combination_block custom_scrollbar",children:A.map((function(n){return(0,f.jsxs)("div",{className:"combination_item",children:[(0,f.jsx)("p",{children:B[n.uid].username}),(0,f.jsx)(_,{text:n.combination.combinationName,position:"left",children:(0,f.jsx)("div",{className:"combination_item_row",children:n.combination.cards.map((function(e){return(0,f.jsxs)("div",{className:"combination_card_item",children:[(0,f.jsx)("p",{children:e.number}),(0,f.jsx)("img",{src:d[e.type],alt:""})]},"".concat(B[n.uid].username,"-").concat(e.number,"-").concat(e.type))}))})})]},n.uid)}))})]})})}):null}}}]);
//# sourceMappingURL=716.189b1b7d.chunk.js.map