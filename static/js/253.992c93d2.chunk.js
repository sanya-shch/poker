"use strict";(self.webpackChunkpoker=self.webpackChunkpoker||[]).push([[253],{6253:function(e,n,r){r.r(n),r.d(n,{default:function(){return f}});var t=r(4165),a=r(5861),o=r(8391),i=r(2159),s=r(99),c=r(4728),l=r(2343),u=r(7141),d=r(9277),m=r(3712),p=function(e){var n=e.imgSrc,r=e.username,t=e.itsI,a=e.isCurrentPlayer,o=e.money,i=e.setIsRenameModalOpen,s=e.setIsChangeIconModalOpen,c=e.smallBlind,l=void 0===c?25:c;return(0,m.jsxs)("div",{className:"user_block ".concat(t?"itsI":""," ").concat(a?"is_current_player":""," ").concat(o<=l?"no_cash":""),children:[(0,m.jsx)("p",{onClick:function(){return t&&i(!0)},children:r}),(0,m.jsx)("img",{src:n,alt:"",width:"65px",height:"65px",onClick:function(){return t&&s(!0)}})]})},f=function(e){var n=e.isHost,r=e.playerDataArr,f=e.uuid,h=e.id,k=e.dealerUid,_=e.setIsRenameModalOpen,x=e.setIsChangeIconModalOpen,b=e.smallBlind,v=e.bigBlind,g=(0,s.s0)(),y=(0,o.useContext)(u.u).setToast,C=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.r7)((0,i.JU)(c.db,"game_rooms_poker",h),{game_room_closed:!0});case 2:return e.next=4,(0,i.oe)((0,i.JU)(c.db,"game_rooms_poker",h));case 4:return e.next=6,(0,i.r7)((0,i.JU)(c.db,"game_room_codes_poker","code_array"),{codes:(0,i.Ab)(h)});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var n,a,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.find((function(e){return e.uid===f})),a=r.filter((function(e){return e.money>b})).map((function(e){return e.uid})),o=(0,d.uU)(a,k),(0,i.r7)((0,i.JU)(c.db,"game_rooms_poker",h),{player_data_arr:(0,i.Ab)(n),dealer_uid:n.uid===k?o:k}),g("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{className:"start_block",children:[(0,m.jsx)("div",{className:"player_block",children:null===r||void 0===r?void 0:r.map((function(e){return(0,m.jsx)(p,{imgSrc:l.Z[e.icon_index],username:e.username,itsI:f===e.uid,money:e.money,setIsRenameModalOpen:_,setIsChangeIconModalOpen:x,smallBlind:b},e.uid)}))}),n?(0,m.jsxs)("div",{className:"btn-block",children:[(0,m.jsx)("button",{onClick:C,children:"Delete Room"}),(0,m.jsx)("button",{onClick:function(){(null===r||void 0===r?void 0:r.filter((function(e){return e.money>b})).length)>=2?(0,d.t)({playerDataArr:r,id:h,dealerUid:k,smallBlind:b,bigBlind:v}):y({type:"danger",text:"At least 2 players are required"})},children:"Start Game"})]}):(0,m.jsx)("div",{className:"btn-block",children:(0,m.jsx)("button",{onClick:I,children:"Leave"})})]})}}}]);